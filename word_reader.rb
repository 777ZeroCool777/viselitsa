# encoding: utf-8
#
# Класса, отвечающий за ввод данных в программу "виселица"
class WordReader

  # Сохраняю старую возможность читать слово из аргументов командной строки.
  # В качестве отедльного метода для обратной совместимости.
  def read_from_args
    return ARGV[0]
  end

  # Метод, возвращающий случайное слово, прочитанное из файла,
  # имя файла передается как аргумент метода
  def read_from_file(file_name)
    # проверка, если файла не существует, сразу возвращаю nil
    begin
    rescue Errno::ENOENT
      return nil
    end

    f = File.new(file_name, "r:UTF-8") # открываю файл, указывая его кодировку
    lines = f.readlines   # читаю все строки в массив
    f.close # закрываю файл

    return lines.sample.chomp
    # возвращаю случайную строчку из прочитанного массива,
    # и удалю в конце перенос строки
  end
end